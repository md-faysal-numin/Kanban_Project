import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css                 */let p=sessionStorage.getItem("isLoggedIn");function b(){setTimeout(()=>{window.location.href="./login.html"},500)}if(p){let m=document.querySelector(".dashboardBtn"),o=document.querySelector("#assign-user"),f=document.querySelector("#editTaskForm"),c=document.querySelector("#task-title"),u=document.querySelector("#task-description"),r=document.querySelector("#section");m.addEventListener("click",()=>{localStorage.removeItem("Edit"),window.location.href="./board.html"});let t=localStorage.getItem("Edit"),g=localStorage.getItem("Tasks");if(g){let s=JSON.parse(g);c.value=s[t].title,u.value=s[t].description;let S=s[t].section;for(let e=0;e<r.options.length;e++)r.options[e].value===S&&(r.options[e].selected=!0);let i=s[t].assigned.split(","),a=localStorage.getItem("User"),n=JSON.parse(a);for(let e in n){let d=!0;for(let k of i)if(k===e){o.innerHTML+=`<option value="${e}" selected>${e}</option>`,d=!1;break}d&&(o.innerHTML+=`<option value="${e}">${e}</option>`)}let l=s[t].creator;p!==l&&(c.disabled=!0,u.disabled=!0,o.disabled=!0)}f.addEventListener("submit",()=>{let s=JSON.parse(g);s[t].section=`${r.value}`,s[t].title=`${c.value}`,s[t].description=`${u.value}`;let S=localStorage.getItem("User"),i=JSON.parse(S),a=s[t].assigned.split(",");for(let l=0;l<a.length;l++){let e=a[l];i[e].task=i[e].task.filter(d=>d!==t)}let n=[];for(let l=0;l<o.options.length;l++)if(o.options[l].selected){let e=o.options[l].value;n.push(e),i[e].task.push(String(t))}s[t].assigned=`${n}`,localStorage.setItem("User",JSON.stringify(i)),localStorage.setItem("Tasks",JSON.stringify(s)),alert("Successfully Edited task")})}else b();
